<html>

<head>
<title>Test for WebGL</title>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

<script type="text/javascript">

  function browserSupportsWebGL() {
    if (window.WebGLRenderingContext === undefined || window.WebGLRenderingContext.tagName === "DFN" ) { 
      return false 
    } else {
      return true
    }
  }
  
  function webglContextCreationErrorHandler(evt) {
    if (evt.statusMessage) {
      document.getElementById("status-message").textContent = evt.statusMessage;
    }
  };
  
  function webGLTest() {
    var canvas = document.getElementById("canvas");
    var results = document.getElementById("results");
    canvas.addEventListener("webglcontextcreationerror", webglContextCreationErrorHandler, false);
    var gl;
    try {
      gl = canvas.getContext("experimental-webgl");
    } catch(e) {
      
    }
    var result = "";
    if (gl === undefined && browserSupportsWebGL()) {
      result = "Your browser supports WebGL but there was an error starting up. This may mean you need to update your video drivers.";
    } else if (gl === undefined) {
        result = "Your browser does not support WebGL.";
    } else {
      result = "Your browser supports WebGL";
    };
    results.textContent = result;
  }

</script>

<body onload="webGLTest();">
  <h3>Test Browser for WebGL Capability</h3>
  <h4>Results</h4>
  <p id="results"></p>
  <h4>Browser-specific status message</h4>
  <p id="status-message"></p>
  <canvas id="canvas" style="border: none;" width="100" height="100"></canvas>
</body>

</html>
