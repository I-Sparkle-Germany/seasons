
var earth_orbit_segments = 128;

var circle = function(scale) {
    var points = [];
    var pi2 = Math.PI * 2;
    var increment = pi2 / earth_orbit_segments;
    var angle = 0;
    if (typeof(scale) === "number") {
        for (var i = 0; i < earth_orbit_segments; i++, angle += increment) {
            points.push(Math.sin(angle) * scale, 0, Math.cos(angle) * scale);
        }
    } else {
        for (var i = 0; i < earth_orbit_segments; i++, angle += increment) {
            points.push(Math.sin(angle), 0, Math.cos(angle));
        }
    }
    return points;
}

var earth_orbit_positions = circle(earth_orbital_radius_km);
var earth_orbit_indices = [];
for (var i = 0; i < earth_orbit_segments; i++) { earth_orbit_indices.push(i) };

var earthOrbit = SceneJS.createNode({
    type: "library",    
    nodes: [
        {
            id: "earthOrbit",
            type: "translate",
            x: earth_orbital_radius_km,
            y: 0,
            z: 0,
            nodes: [ 
                {
                    type: "scale",
                    x: earth_orbital_radius_km,
                    y: 0,
                    z: earth_orbital_radius_km,
                    nodes: [ 
                        { 
                    
                            type: "material",
                    
                            baseColor:          { r: 0.1, g: 0.7, b: 1.0 },
                            specularColor:      { r: 0.1, g: 0.7, b: 1.0 },
                            specular:           1.0,
                            shine:              1.0,
                    
                            nodes: [
                            
                                {

                                    type: "selector",
                                    id: "earthOrbitSelector",
                                    selection: [1],
                                    nodes: [ 
                                        {  },
                                
                                        {
                                            type: "geometry",
                                            id: "earthOrbitGeometry",
                                            primitive: "line-loop",

                                            // positions: earth_orbit_positions,
                                            // indices: earth_orbit_indices
                                            
                                            positions: [0, 0, 1,
                                            0.049067674327418015, 0, 0.9987954562051724,
                                            0.0980171403295606, 0, 0.9951847266721969,
                                            0.14673047445536175, 0, 0.989176509964781,
                                            0.19509032201612825, 0, 0.9807852804032304,
                                            0.24298017990326387, 0, 0.970031253194544,
                                            0.29028467725446233, 0, 0.9569403357322088,
                                            0.33688985339222005, 0, 0.9415440651830208,
                                            0.3826834323650898, 0, 0.9238795325112867,
                                            0.4275550934302821, 0, 0.9039892931234433,
                                            0.47139673682599764, 0, 0.881921264348355,
                                            0.5141027441932217, 0, 0.8577286100002721,
                                            0.5555702330196022, 0, 0.8314696123025452,
                                            0.5956993044924334, 0, 0.8032075314806449,
                                            0.6343932841636456, 0, 0.7730104533627369,
                                            0.6715589548470186, 0, 0.740951125354959,
                                            0.7071067811865477, 0, 0.7071067811865475,
                                            0.7409511253549592, 0, 0.6715589548470182,
                                            0.7730104533627371, 0, 0.6343932841636453,
                                            0.803207531480645, 0, 0.5956993044924331,
                                            0.8314696123025455, 0, 0.555570233019602,
                                            0.8577286100002723, 0, 0.5141027441932213,
                                            0.8819212643483553, 0, 0.4713967368259972,
                                            0.9039892931234436, 0, 0.4275550934302816,
                                            0.923879532511287, 0, 0.38268343236508917,
                                            0.941544065183021, 0, 0.3368898533922194,
                                            0.956940335732209, 0, 0.29028467725446166,
                                            0.9700312531945442, 0, 0.24298017990326312,
                                            0.9807852804032307, 0, 0.19509032201612744,
                                            0.9891765099647811, 0, 0.14673047445536086,
                                            0.9951847266721969, 0, 0.09801714032955966,
                                            0.9987954562051724, 0, 0.04906767432741702,
                                            1, 0, 0,
                                            0.9987954562051723, 0, -0.04906767432741911,
                                            0.9951847266721968, 0, -0.09801714032956176,
                                            0.9891765099647808, 0, -0.14673047445536294,
                                            0.9807852804032302, 0, -0.19509032201612952,
                                            0.9700312531945436, 0, -0.24298017990326518,
                                            0.9569403357322085, 0, -0.29028467725446366,
                                            0.9415440651830203, 0, -0.3368898533922214,
                                            0.9238795325112862, 0, -0.38268343236509117,
                                            0.9039892931234427, 0, -0.4275550934302835,
                                            0.8819212643483544, 0, -0.47139673682599886,
                                            0.8577286100002715, 0, -0.5141027441932227,
                                            0.8314696123025447, 0, -0.5555702330196031,
                                            0.8032075314806444, 0, -0.595699304492434,
                                            0.7730104533627365, 0, -0.634393284163646,
                                            0.7409511253549588, 0, -0.6715589548470188,
                                            0.7071067811865472, 0, -0.7071067811865478,
                                            0.6715589548470182, 0, -0.7409511253549592,
                                            0.6343932841636455, 0, -0.773010453362737,
                                            0.5956993044924335, 0, -0.8032075314806448,
                                            0.5555702330196025, 0, -0.831469612302545,
                                            0.5141027441932221, 0, -0.8577286100002718,
                                            0.4713967368259982, 0, -0.8819212643483547,
                                            0.4275550934302828, 0, -0.903989293123443,
                                            0.38268343236509067, 0, -0.9238795325112864,
                                            0.33688985339222116, 0, -0.9415440651830204,
                                            0.2902846772544636, 0, -0.9569403357322085,
                                            0.24298017990326534, 0, -0.9700312531945436,
                                            0.19509032201612989, 0, -0.9807852804032301,
                                            0.14673047445536355, 0, -0.9891765099647807,
                                            0.0980171403295626, 0, -0.9951847266721967,
                                            0.04906767432742019, 0, -0.9987954562051723,
                                            0, 0, -1,
                                            -0.0490676743274155, 0, -0.9987954562051725,
                                            -0.09801714032955794, 0, -0.9951847266721972,
                                            -0.14673047445535894, 0, -0.9891765099647813,
                                            -0.19509032201612533, 0, -0.980785280403231,
                                            -0.24298017990326082, 0, -0.9700312531945448,
                                            -0.29028467725445917, 0, -0.9569403357322098,
                                            -0.3368898533922167, 0, -0.9415440651830219,
                                            -0.3826834323650864, 0, -0.9238795325112882,
                                            -0.42755509343027864, 0, -0.903989293123445,
                                            -0.4713967368259941, 0, -0.8819212643483569,
                                            -0.5141027441932181, 0, -0.8577286100002742,
                                            -0.5555702330195986, 0, -0.8314696123025477,
                                            -0.5956993044924297, 0, -0.8032075314806476,
                                            -0.6343932841636419, 0, -0.77301045336274,
                                            -0.6715589548470148, 0, -0.7409511253549623,
                                            -0.707106781186544, 0, -0.707106781186551,
                                            -0.7409511253549556, 0, -0.6715589548470223,
                                            -0.7730104533627338, 0, -0.6343932841636494,
                                            -0.8032075314806418, 0, -0.5956993044924375,
                                            -0.8314696123025422, 0, -0.5555702330196066,
                                            -0.8577286100002692, 0, -0.5141027441932264,
                                            -0.8819212643483524, 0, -0.4713967368260026,
                                            -0.9039892931234409, 0, -0.4275550934302873,
                                            -0.9238795325112845, 0, -0.3826834323650952,
                                            -0.9415440651830187, 0, -0.33688985339222577,
                                            -0.956940335732207, 0, -0.2902846772544684,
                                            -0.9700312531945424, 0, -0.24298017990327014,
                                            -0.9807852804032292, 0, -0.19509032201613477,
                                            -0.98917650996478, 0, -0.14673047445536846,
                                            -0.9951847266721962, 0, -0.09801714032956751,
                                            -0.9987954562051721, 0, -0.04906767432742512,
                                            -1, 0, 0,
                                            -0.9987954562051727, 0, 0.04906767432741057,
                                            -0.9951847266721976, 0, 0.09801714032955301,
                                            -0.9891765099647821, 0, 0.14673047445535403,
                                            -0.980785280403232, 0, 0.19509032201612045,
                                            -0.970031253194546, 0, 0.242980179903256,
                                            -0.9569403357322113, 0, 0.29028467725445445,
                                            -0.9415440651830236, 0, 0.3368898533922121,
                                            -0.9238795325112901, 0, 0.3826834323650818,
                                            -0.9039892931234471, 0, 0.42755509343027415,
                                            -0.8819212643483593, 0, 0.47139673682598976,
                                            -0.8577286100002768, 0, 0.5141027441932139,
                                            -0.8314696123025505, 0, 0.5555702330195944,
                                            -0.8032075314806506, 0, 0.5956993044924257,
                                            -0.7730104533627431, 0, 0.634393284163638,
                                            -0.7409511253549657, 0, 0.6715589548470111,
                                            -0.7071067811865546, 0, 0.7071067811865405,
                                            -0.6715589548470259, 0, 0.7409511253549523,
                                            -0.6343932841636535, 0, 0.7730104533627304,
                                            -0.5956993044924418, 0, 0.8032075314806387,
                                            -0.5555702330196111, 0, 0.8314696123025394,
                                            -0.514102744193231, 0, 0.8577286100002666,
                                            -0.4713967368260073, 0, 0.8819212643483498,
                                            -0.4275550934302922, 0, 0.9039892931234386,
                                            -0.3826834323651002, 0, 0.9238795325112824,
                                            -0.3368898533922309, 0, 0.9415440651830169,
                                            -0.2902846772544735, 0, 0.9569403357322055,
                                            -0.2429801799032754, 0, 0.9700312531945411,
                                            -0.19509032201614004, 0, 0.9807852804032281,
                                            -0.1467304744553738, 0, 0.9891765099647792,
                                            -0.09801714032957289, 0, 0.9951847266721957,
                                            -0.049067674327430505, 0, 0.9987954562051717],
                                            

                                            indexes: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 
                                            11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 
                                            21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 
                                            31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 
                                            41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 
                                            51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 
                                            61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 
                                            71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 
                                            81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 
                                            91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 
                                            101, 102, 103, 104, 105, 106, 107, 108, 109, 
                                            110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 
                                            120, 121, 122, 123, 124, 125, 126, 127]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                } 
            ]
        }
    ]
});
